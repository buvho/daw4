<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
    <div class="d-flex p-3">
    <table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Pergunta</th>
      <th scope="col">Tipo</th>
      <th scope="col">Responder</th>
      <th scope="col">Ver Respostas</th>
    </tr>
</thead>
<tbody id="tabela">

</tbody>
</table>
</div>
</body>
</html>
<script>
const tabela = document.getElementById("tabela")

fetch('listar.php')
  .then(response => {
    if (!response.ok) {
      throw new Error('Erro na requisição: ' + response.status);
    }
    return response.json(); 
  })
  .then(perguntas => {
    console.log('Perguntas carregadas:', perguntas);

    perguntas.forEach(e => {
        const tr = document.createElement("tr");
        tr.innerHTML = `<th> ${e.pergunta} </th>
                        <th> ${e.tipo} </th>
                        
                        <form action="editar.php" method="POST">
                        <input type="hidden" name="linha" value="${e.id}">
                        <button type="submit" class="btn btn-info">Editar</button> </forms>`
    tabela.append(tr)
    });
  })
  .catch(error => {
    console.error('Erro ao carregar o JSON:', error);
  });


</script>
